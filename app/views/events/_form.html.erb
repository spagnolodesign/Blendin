<div class="container">
  <div class="row">
    <div class="col-lg-6 mx-auto">
      <%= form_for @event , :html => {:class => "form-group"} do |f| %>
      <%= f.label :name %>
      <%= f.text_field :name, class: "form-control" %>
      <div class="d-flex my-3 justify-content-start">
        <div class="">
          <%= f.label :date %>
          <%= f.date_field :date, class: "form-control" %>
        </div>
        <div class="ml-4">
          <%= f.label :time %>
          <%= f.time_field :time, class: "form-control" %>
        </div>
      </div>
      <%= f.label :description %>
      <%= f.text_field :description, class: "form-control" %>
      <div class="">
        <div class="">
          <%= f.label :address %>
          <%= f.text_field :address, class: "form-control" %>
        </div>
        <div class="d-flex my-3 justify-content-start">
          <div class="w-75">
            <%= f.label :city %>
            <%= f.text_field :city, class: "form-control" %>
          </div>
          <div class=" ml-2">
            <%= f.label :zip_code %>
            <%= f.number_field :zip_code, class: "form-control" %>
          </div>
        </div>
      </div>
      <%= f.label :topic %>
      <%= f.text_field :topic, class: "form-control" %>

      <%= f.label :max_refugee_capacity %>
      <%= f.number_field :max_refugee_capacity, class: "form-control" %>
      <%= f.label :max_local_capacity %>
      <%= f.number_field :max_local_capacity, class: "form-control" %>
      <div class="my-4">
        <%= check_box_tag(:community_events) %>
        <%= label_tag(:community_events, "Community Event") %>
      </div>
      <%= f.label :photo %>
      <%= f.file_field :photo, class: "form-control" %>

      <div class="">
        <%= f.submit 'Save', class: "btn btn-primary" %>
      </div>
    <% end %>
  </div>
</div>
</div>


<script src="https://cdn.jsdelivr.net/places.js/1/places.min.js"></script>


<script>
(function() {
  var placesAutocomplete = places({
    container: document.querySelector('#event_address'),
    type: 'address',
    templates: {
      value: function(suggestion) {
        console.log(suggestion)
        return suggestion.name;
      }
    }
  });
  placesAutocomplete.on('change', function resultSelected(e) {
    document.querySelector('#event_city').value = e.suggestion.city || '';
    document.querySelector('#event_zip_code').value = e.suggestion.postcode || '';
  });
})();
</script>
