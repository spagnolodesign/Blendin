<div class="columns">
  <div class="column col-9 centered">
    <h3>Where do you live?</h3>
    <p>Select your city of recidence and we'll suggest you people in the same area.</p>
    
    <%= form_for(@user) do |f| %>
      <div class="form-group">
        <%= f.text_field :full_street_address, placeholder: "In which city do you live?", class: "select-city" %>
      </div>
      <br />
      <div class="form-group">
        <%= f.submit t('btn.next'), :class => 'btn-next float-right' %>
      </div>
    <% end %>

  </div>
</div>

<script src="https://cdn.jsdelivr.net/places.js/1/places.min.js"></script>

<script>
(function() {
  var placesAutocomplete = places({
    container: document.querySelector('.select-city'),
    type: 'city',
    aroundLatLngViaIP: false,
    templates: {
      value: function(suggestion) {
        return suggestion.name;
      }
    },
    useDeviceLocation: true
  });

  placesAutocomplete.on('change', handleOnClear);

  function handleOnClear() {
    $('.btn-next').addClass('anim-next');
  }

})();
</script>

